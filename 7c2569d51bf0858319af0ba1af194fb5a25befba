{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3d160c96_236b6a68",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-27T15:53:20Z",
      "side": 1,
      "message": "we need to add a macro to make sure these aren\u0027t used on next (we can\u0027t just assume the code is that way - the code may change in the future or there could be an accident or it could be copy-pasted etc.. a million things). Please see te_macro or \u0027userdebug_or_eng\u0027 or chat with inseob@, we can turn them off in the \u0027next\u0027 configuration, and that is OK",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "87275607_ba27edb3",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1981530
      },
      "writtenOn": "2024-06-27T16:13:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d160c96_236b6a68",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f4f7fc1_ac0240de",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-27T19:30:44Z",
      "side": 1,
      "message": "Hmm, what is it flagged on? I meant userdebug or eng as an example of something similar, but we need a new macro for \u0027next or not\u0027? If we use the wrong macro here, two things would break:\n- on next userdebug builds, we couldn\u0027t use these flags, presumably permissions would fail there or flags would be considered off, and we wouldn\u0027t be testing these appropriately\n- on trunk user builds, we wouldn\u0027t have the permission, but we would need them.",
      "parentUuid": "87275607_ba27edb3",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e3717c4_38567b51",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1981530
      },
      "writtenOn": "2024-06-27T19:58:22Z",
      "side": 1,
      "message": "Ahh, I see. Just added a trunk_or_trunk_staging macro.",
      "parentUuid": "6f4f7fc1_ac0240de",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f4cf6a6_39235533",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-27T21:32:22Z",
      "side": 1,
      "message": "lg, thanks!",
      "parentUuid": "0e3717c4_38567b51",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34dd9091_f44e6890",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2024-06-28T02:21:11Z",
      "side": 1,
      "message": "Actually I don\u0027t think we\u0027ll need macros based on target releases like `not_next` or `next`. IIUC differences among target releases should be implemented only with flags, and the code tested under `not_next` macro may break the `next` build when we promote flags from `trunk` to `next`.\n\nWhy should we allow these only on `trunk` builds? Can\u0027t we instead add a build flag and use that instead?",
      "parentUuid": "4f4cf6a6_39235533",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb087f50_de809fd6",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1981530
      },
      "writtenOn": "2024-06-28T19:14:25Z",
      "side": 1,
      "message": "@smoreland@google.com, is there a path to us allowing these files on vendor builds? Exported flags are runtime even on next builds, and would require access to the files. However, I\u0027m OK with submitting this just for trunk, to make progress on the non-exported flags, for now, if it sounds like more design would be needed to allow vendor access.",
      "parentUuid": "34dd9091_f44e6890",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "705e1726_25041e03",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-28T19:57:59Z",
      "side": 1,
      "message": "I disagree, and I think we should have \u0027not_next\u0027 since this is a flag that should never be promoted, it\u0027s not a flag we should add. Though, if we want to add another flag which is only set in trunk* and never set in next, we can add that as well. Though, I\u0027d also ask we add an additional test that this flag is not set on next.",
      "parentUuid": "fb087f50_de809fd6",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abb6846f_a5255511",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2024-07-01T01:31:33Z",
      "side": 1,
      "message": "\u003e I think we should have \u0027not_next\u0027 since this is a flag that should never be promoted, it\u0027s not a flag we should add.\n\nSELinux is already full of confusing macros (e.g. userdebug_or_eng, recovery_only, with_asan, etc.) and I\u0027m not sure if it\u0027s worth adding complexity.\n\n\u003e Though, if we want to add another flag which is only set in trunk* and never set in next, we can add that as well.\n\nI prefer this, rather than `not_next`.",
      "parentUuid": "705e1726_25041e03",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1bac97d_502bce72",
        "filename": "private/domain.te",
        "patchSetId": 2
      },
      "lineNbr": 577,
      "author": {
        "id": 1981530
      },
      "writtenOn": "2024-07-01T13:41:32Z",
      "side": 1,
      "message": "Placed these rules in a is_flag_enabled macro.",
      "parentUuid": "abb6846f_a5255511",
      "range": {
        "startLine": 576,
        "startChar": 20,
        "endLine": 577,
        "endChar": 30
      },
      "revId": "7c2569d51bf0858319af0ba1af194fb5a25befba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}