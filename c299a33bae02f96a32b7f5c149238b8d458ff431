{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5e5fb0aa_19665699",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2024-09-05T01:32:16Z",
      "side": 1,
      "message": "Bug: 347871914",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 18
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa160344_b96a6778",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 3163667
      },
      "writtenOn": "2024-08-26T14:57:45Z",
      "side": 1,
      "message": "Kindly asking for a review. Details on the change can be found: b/347871914 - internal ticket:  b/360294649",
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c766e81_a2afc66d",
        "filename": "private/hal_camera.te",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1347177
      },
      "writtenOn": "2024-08-29T21:50:39Z",
      "side": 1,
      "message": "Why is automotive one of the member of camera?",
      "range": {
        "startLine": 39,
        "startChar": 31,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63e5ff8f_d5e5d86b",
        "filename": "private/hal_camera.te",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1384660
      },
      "writtenOn": "2024-08-29T22:17:03Z",
      "side": 1,
      "message": "@adamshih@google.com, could you please elaborate your question a bit? `hal_automotive_socket_exemption` is an attribute declared in `system/sepolicy/public/attributes`, to mitigate our device-specific characteristics; some hw subsystems exist outside of Android and are available over the network. A network (or IP) camera is an good example and we do need to make these camera devices available through Android framework API.\n\nAs it\u0027s commented, this exemption will be only effective on automotive devices (this is enforced by CTS). Therefore, unless other device implementations plan to enable network cameras, this would be acceptable change for us. Please let us know if you have any concerns - happy to discuss more. :)",
      "parentUuid": "2c766e81_a2afc66d",
      "range": {
        "startLine": 39,
        "startChar": 31,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c370b17d_66036248",
        "filename": "private/hal_camera.te",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1347177
      },
      "writtenOn": "2024-08-29T23:42:18Z",
      "side": 1,
      "message": "In my mind, the right practice is have HALs do their special work and communicate to each other to complement their missing capabilities and permission.\n\nIn this case, I expect your hal_camera to binder_call a network HAL to achieve what you\u0027re up to instead of putting everything in one box. It will make your service a juicy target to hackers.",
      "parentUuid": "63e5ff8f_d5e5d86b",
      "range": {
        "startLine": 39,
        "startChar": 31,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1eaf997e_4de83e88",
        "filename": "private/hal_camera.te",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 3163667
      },
      "writtenOn": "2024-09-09T11:57:43Z",
      "side": 1,
      "message": "@adamshih@google.com My understanding of the camera architecture is that both control and transport are supposed to be handled in the camera hal and not meant to be split.\n\nIn our system it would be in general possible to add a camera-custom-hal to forward the control signals to, although with limited / no security benefits in my eyes and a more complex architecture. Although not part of AOSP policies, we enforce additional security policies to allow only a specific hal to access the control signals of the camera and block all other access to any signals in the board net / block any other socket connections. Thus, the privileges in our system of the camera hal is exactly the same, be it with a.) directly accessing the boardnet over socket or b.) with forwarding the control signals over binder to a camera-custom-hal that then passes the signals through to the boardnet. I assume this is standard practice in the industry.\n\nIn systems where also the transport stream of the camera is received over network, this restriction would cause to forwarding everything including the transport stream from the camera-hal to a camera-custom-hal.\n\nAllowing hal_automotive_socket_exemption for the camera hal would also be in line with private/hal_neverallows.te. I assume that the hal_automotive_socket_exemption is wildly accepted for the automotive use case since the system design in general is more distributed and socket communication is the most common mean to interact with various peripherals.",
      "parentUuid": "c370b17d_66036248",
      "range": {
        "startLine": 39,
        "startChar": 31,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2b9e448_e47b825d",
        "filename": "private/hal_camera.te",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1384660
      },
      "writtenOn": "2024-09-09T14:13:02Z",
      "side": 1,
      "message": "Thanks for sharing details, @roland.fuchsberger@bmw.de. We (AAOS) have internally discussed a suggested change and there have been some concerns in allowing camera hal to operate any network operations because it\u0027s intended only for locally available devices and explicitly restrict its network operations due to security/privacy risks.\n\nLet\u0027s discuss this offline - I\u0027d like to understand your design/perspective more and collaborate to define the right solution that accommodate your needs. I\u0027ll work w/ @danieladam@google.com to schedule a meeting.",
      "parentUuid": "1eaf997e_4de83e88",
      "range": {
        "startLine": 39,
        "startChar": 31,
        "endLine": 39,
        "endChar": 63
      },
      "revId": "c299a33bae02f96a32b7f5c149238b8d458ff431",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}