{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "49d3fae1_d301d05a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 23,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "With my mls hat on: I\u0027d expect /data/storage_area/userId to have the categories for the user (to prevent other users probing it), and /data/storage_area/userId/pkgName (and everything below it) to have the categories for user + package ID. (Possibly overridden by seapp_contexts.)\n\nIs that what we end up with?\n\nAnd how do we prevent probing of /data/storage_area/userId to determine if a package is present?",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 33
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "091b868e_07d2daf3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 23,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Yes, these are the categories we end up with -- I\u0027ve updated the commit message to include this info.\n\nRe: probing of /data/storage_area/userId: this is handled by the app data isolation in zygote (we add this directory to the list of directories isolated by zygote)",
      "parentUuid": "49d3fae1_d301d05a",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 33
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0f740b9_c0693d49",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 46,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Can we add a neverallow to enforce that?",
      "range": {
        "startLine": 45,
        "startChar": 68,
        "endLine": 46,
        "endChar": 15
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a13aeed3_37e0aec3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 46,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Good idea; I\u0027ve put one in domain.te",
      "parentUuid": "c0f740b9_c0693d49",
      "range": {
        "startLine": 45,
        "startChar": 68,
        "endLine": 46,
        "endChar": 15
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d28a7eea_8cdc2e1c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 52,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Nit: no blank line here. (The `Foo:` stanzas are supposed to be contiguous)",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 52
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fc03c98_e6d4f7af",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 52,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Noted, thanks",
      "parentUuid": "d28a7eea_8cdc2e1c",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 52
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d541a24e_b7350aba",
        "filename": "private/file.te",
        "patchSetId": 28
      },
      "lineNbr": 196,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "I\u0027m not convinced these ones should be app_data_file_type.",
      "range": {
        "startLine": 193,
        "startChar": 0,
        "endLine": 196,
        "endChar": 94
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e78c47e9_a0156d49",
        "filename": "private/file.te",
        "patchSetId": 28
      },
      "lineNbr": 196,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Hmm. The `storage_area_app_dir` is an app-specific directory, which just contains all of the storage areas that an app will create. It is essentially the equivalent of the existing `/data/user/userId/packageName` and `/data/user_de/userId/packageName` for CE and DE storage respectively, but for this new storage system. And these app-specific CE and DE storage directories are all app data (tagged with `app_data_file`, or some special app data type such as `priv_app_data_file`).\n\nFor the storage areas themselves, `storage_area_dir`, these are directories that the app itself dispatches calls to create/delete, and the app then uses to store app data. I think this should also be tagged as app data.\n\nWhat do you think?",
      "parentUuid": "d541a24e_b7350aba",
      "range": {
        "startLine": 193,
        "startChar": 0,
        "endLine": 196,
        "endChar": 94
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0eb114f5_3a0fa123",
        "filename": "private/init.te",
        "patchSetId": 28
      },
      "lineNbr": 855,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Nit: no braces for a single item (throughout)",
      "range": {
        "startLine": 855,
        "startChar": 40,
        "endLine": 855,
        "endChar": 52
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "daa26cc8_b3bd1701",
        "filename": "private/init.te",
        "patchSetId": 28
      },
      "lineNbr": 855,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Noted, thanks!",
      "parentUuid": "0eb114f5_3a0fa123",
      "range": {
        "startLine": 855,
        "startChar": 40,
        "endLine": 855,
        "endChar": 52
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3488bb1_5a4314d2",
        "filename": "private/installd.te",
        "patchSetId": 28
      },
      "lineNbr": 246,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Perhaps we could tighten this a bit?\n\nw_dir_perms I think is enough. Or even restrict it further to `open search write remove_name lock` (no `add_name`).",
      "range": {
        "startLine": 246,
        "startChar": 45,
        "endLine": 246,
        "endChar": 61
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "630c6328_e01b59fd",
        "filename": "private/installd.te",
        "patchSetId": 28
      },
      "lineNbr": 246,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Good point, nice catch!",
      "parentUuid": "b3488bb1_5a4314d2",
      "range": {
        "startLine": 246,
        "startChar": 45,
        "endLine": 246,
        "endChar": 61
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2b37ddb_52251b27",
        "filename": "private/seapp_contexts",
        "patchSetId": 28
      },
      "lineNbr": 78,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Do as a separate quick CL?",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 63
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "729d6933_ba21c2cc",
        "filename": "private/seapp_contexts",
        "patchSetId": 28
      },
      "lineNbr": 78,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Good idea",
      "parentUuid": "a2b37ddb_52251b27",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 63
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddf8b5c7_804c46c7",
        "filename": "private/vold.te",
        "patchSetId": 28
      },
      "lineNbr": 74,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Oh, this is good.\n\n(And could also be separate?)",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 74,
        "endChar": 0
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9748d29b_8912f7db",
        "filename": "private/vold.te",
        "patchSetId": 28
      },
      "lineNbr": 74,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Ah woops! This is actually an artifact of `git rebase` that I didn\u0027t catch, this code is already in vold.te, lower down in the file. I\u0027ve gotten rid of this duplicated instance.",
      "parentUuid": "ddf8b5c7_804c46c7",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 74,
        "endChar": 0
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af277181_e51492d1",
        "filename": "private/vold.te",
        "patchSetId": 28
      },
      "lineNbr": 93,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2024-04-05T10:22:20Z",
      "side": 1,
      "message": "Search is included already, no need to mention it explicitly.\n\nCould this be w_dir_perms, or rw_dir_perms?",
      "range": {
        "startLine": 93,
        "startChar": 41,
        "endLine": 93,
        "endChar": 57
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "684dd78e_b74e386e",
        "filename": "private/vold.te",
        "patchSetId": 28
      },
      "lineNbr": 93,
      "author": {
        "id": 1954616
      },
      "writtenOn": "2024-04-09T01:32:19Z",
      "side": 1,
      "message": "Sounds good, I\u0027ve gotten rid of `search`. It does need to be `create` though, since vold creates the directory of keys for an area.",
      "parentUuid": "af277181_e51492d1",
      "range": {
        "startLine": 93,
        "startChar": 41,
        "endLine": 93,
        "endChar": 57
      },
      "revId": "5d53d2e57a9e3241966c7bf03b5e628894228dab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}